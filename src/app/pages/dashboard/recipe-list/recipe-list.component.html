<!-- MODERN RECIPE LIST - CLEAN & ELEGANT -->
<div class="space-y-6">
  <!-- Search & Filter Section -->
  <div class="space-y-4">
    <!-- Search Bar -->
    <div class="relative">
      <nz-input-group
        [nzSize]="'large'"
        [nzPrefix]="prefixIcon"
        class="rounded-lg overflow-hidden border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 transition-colors duration-200"
      >
        <input
          type="text"
          nz-input
          placeholder="Search recipes..."
          [value]="searchQuery()"
          (input)="onSearch($any($event.target).value)"
          class="!border-0 !shadow-none bg-transparent text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"
        />
      </nz-input-group>
      <ng-template #prefixIcon>
        <span
          nz-icon
          nzType="search"
          class="text-gray-500 dark:text-gray-400 transition-colors duration-200"
        ></span>
      </ng-template>
    </div>

    <!-- Category Filter Pills - SINGLE SECTION -->
    <div class="flex items-center justify-between gap-4 flex-wrap">
      <!-- Categories Filter -->
      <div class="flex gap-2 overflow-x-auto flex-1 min-w-0">
        <button
          *ngFor="let category of categories"
          (click)="onCategoryChange(category)"
          class="px-4 py-2 rounded-full text-sm font-medium transition-all border whitespace-nowrap duration-200 flex-shrink-0"
          [class.bg-green-500]="selectedCategory() === category"
          [class.text-white]="selectedCategory() === category"
          [class.border-green-500]="selectedCategory() === category"
          [class.bg-gray-100]="selectedCategory() !== category"
          [class.text-gray-700]="selectedCategory() !== category"
          [class.border-gray-300]="selectedCategory() !== category"
          [class.dark:bg-gray-800]="selectedCategory() !== category"
          [class.dark:text-gray-300]="selectedCategory() !== category"
          [class.dark:border-gray-600]="selectedCategory() !== category"
        >
          {{ category }}
        </button>
      </div>

      <!-- New Recipe Button -->
      <button
        nz-button
        nzType="primary"
        nzSize="large"
        (click)="openCreateRecipeModal()"
        class="rounded-xl font-semibold border-0 bg-green-500 hover:bg-green-600 text-white px-6 py-2 h-auto whitespace-nowrap transition-colors duration-200 flex-shrink-0 flex items-center gap-2"
      >
        <span nz-icon nzType="plus" class="text-base"></span>
        <span>New Recipe</span>
      </button>
    </div>
  </div>

  <!-- Featured Recipe Section -->
  <div
      *ngIf="featuredRecipe()"
      class="bg-gradient-to-r from-green-50 to-emerald-50 dark:from-gray-800 dark:to-gray-900 rounded-xl overflow-hidden border border-green-200 dark:border-gray-700"
    >
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 p-6">
        <!-- Featured Image -->
        <div class="rounded-lg overflow-hidden h-64 md:h-auto">
          <img
            [src]="featuredRecipe()!.imageUrl"
            [alt]="featuredRecipe()!.title"
            class="w-full h-full object-cover"
          />
        </div>

        <!-- Featured Content -->
        <div class="flex flex-col justify-center space-y-4">
          <div class="inline-block w-fit">
            <span
              class="px-3 py-1 rounded-full text-xs font-bold bg-green-500 text-white"
            >
              Featured Recipe
            </span>
          </div>
          <h2
            class="text-2xl md:text-3xl font-bold text-gray-900 dark:text-white"
          >
            {{ featuredRecipe()!.title }}
          </h2>
          <p class="text-gray-600 dark:text-gray-400">
            {{ featuredRecipe()!.description }}
          </p>
          <div class="flex gap-6 text-sm">
            <div class="flex items-center gap-2">
              <span nz-icon nzType="clock-circle" class="text-green-500"></span>
              <span class="text-gray-700 dark:text-gray-300"
                >{{ featuredRecipe()!.cookTime }}m</span
              >
            </div>
          </div>
          <button
            nz-button
            nzType="primary"
            nzSize="large"
            class="w-fit rounded-lg font-semibold border-0 bg-green-500 hover:bg-green-600 transition-colors duration-200"
            (click)="onViewRecipe(featuredRecipe()!)"
          >
            <span nz-icon nzType="play-circle" class="mr-2"></span>
            Cook Now
          </button>
        </div>
      </div>
    </div>

  <!-- Results Info -->
  <div
      class="flex items-center justify-between text-sm text-gray-600 dark:text-gray-400"
    >
      <p>
        Showing
        <span class="font-bold text-gray-900 dark:text-white">{{
          paginatedRecipes().length
        }}</span>
        of
        <span class="font-bold text-gray-900 dark:text-white">{{
          filteredRecipes().length
        }}</span>
        recipes
      </p>
      <select
        class="px-3 py-1 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm transition-colors duration-200"
        (change)="onSortChange($any($event.target).value)"
      >
        <option value="popular">Popular</option>
        <option value="recent">Recent</option>
        <option value="time">Cook Time</option>
        <option value="rating">Rating</option>
      </select>
    </div>

  <!-- Loading Spinner -->
  <div *ngIf="isLoading()" class="py-12 text-center">
      <nz-spin nzSimple [nzSize]="'large'"></nz-spin>
      <p class="mt-4 text-gray-600 dark:text-gray-400">
        Loading delicious recipes...
      </p>
    </div>

  <!-- Recipes Grid - Smaller Cards -->
  <div
      *ngIf="!isLoading() && paginatedRecipes().length > 0"
      class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"
    >
      <app-recipe-card
        *ngFor="let recipe of paginatedRecipes()"
        [recipe]="recipe"
      ></app-recipe-card>
    </div>

  <!-- No Results -->
  <div
      *ngIf="!isLoading() && paginatedRecipes().length === 0"
      class="py-12 text-center"
    >
      <span
        nz-icon
        nzType="search"
        class="text-5xl text-gray-300 dark:text-gray-700 mb-4 block transition-colors duration-200"
      ></span>
      <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">
        No recipes found
      </h3>
      <p class="text-gray-600 dark:text-gray-400 mb-4">
        Try adjusting your search or filters
      </p>
      <button
        nz-button
        nzType="primary"
        (click)="clearFilters()"
        class="rounded-lg border-0 bg-green-500 hover:bg-green-600 transition-colors duration-200"
      >
        Reset Filters
      </button>
    </div>

  <!-- Pagination -->
  <div
    *ngIf="filteredRecipes().length > pageSize()"
    class="flex justify-center pt-4"
  >
    <nz-pagination
      [nzPageIndex]="currentPage()"
      [nzTotal]="filteredRecipes().length"
      [nzPageSize]="pageSize()"
      (nzPageIndexChange)="onPageChange($event)"
      [nzShowSizeChanger]="false"
    ></nz-pagination>
  </div>
</div>

<!-- Create Recipe Modal -->
<app-create-recipe-modal (recipeCreated)="onRecipeCreated()"></app-create-recipe-modal>
